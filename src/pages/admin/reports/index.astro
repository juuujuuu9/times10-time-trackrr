---
import AdminLayout from '../../../layouts/AdminLayout.astro';
import { db } from '../../../db/index';
import { timeEntries, users, tasks, projects, clients } from '../../../db/schema';
import { count } from 'drizzle-orm';

// Get basic stats
const totalUsers = await db.select({ count: count() }).from(users);
const totalProjects = await db.select({ count: count() }).from(projects);
const totalTasks = await db.select({ count: count() }).from(tasks);
---

<AdminLayout title="Reports" currentPage="reports">
  <div class="space-y-6">
    <!-- Header -->
    <div class="flex justify-between items-center">
      <div>
        <h1 class="text-2xl font-bold text-white">Reports & Analytics</h1>
        <p class="text-gray-300">Comprehensive insights into your time tracking data</p>
      </div>
    </div>

    <!-- Overview Stats -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <div class="bg-gray-800 rounded-lg shadow border border-gray-700 p-6">
        <div class="flex items-center">
          <div class="p-2 bg-[#4F46E5] rounded-lg">
            <span class="text-2xl text-white">‚è±Ô∏è</span>
          </div>
          <div class="ml-4">
            <p class="text-sm font-medium text-gray-400">Total Hours</p>
            <p class="text-2xl font-bold text-white">0</p>
          </div>
        </div>
      </div>

      <div class="bg-gray-800 rounded-lg shadow border border-gray-700 p-6">
        <div class="flex items-center">
          <div class="p-2 bg-[#10B981] rounded-lg">
            <span class="text-2xl text-white">üí∞</span>
          </div>
          <div class="ml-4">
            <p class="text-sm font-medium text-gray-400">Total Cost</p>
            <p class="text-2xl font-bold text-white">$0.00</p>
          </div>
        </div>
      </div>

      <div class="bg-gray-800 rounded-lg shadow border border-gray-700 p-6">
        <div class="flex items-center">
          <div class="p-2 bg-[#EC4899] rounded-lg">
            <span class="text-2xl text-white">üìÅ</span>
          </div>
          <div class="ml-4">
            <p class="text-sm font-medium text-gray-400">Total Projects</p>
            <p class="text-2xl font-bold text-white">{totalProjects[0]?.count || 0}</p>
          </div>
        </div>
      </div>

      <div class="bg-gray-800 rounded-lg shadow border border-gray-700 p-6">
        <div class="flex items-center">
          <div class="p-2 bg-[#F59E0B] rounded-lg">
            <span class="text-2xl text-white">üë§</span>
          </div>
          <div class="ml-4">
            <p class="text-sm font-medium text-gray-400">Active Team Members</p>
            <p class="text-2xl font-bold text-white">{totalUsers[0]?.count || 0}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="bg-gray-800 rounded-lg shadow border border-gray-700 p-6">
      <div class="text-center py-12">
        <h3 class="text-lg font-medium text-white mb-2">Reports Coming Soon</h3>
        <p class="text-gray-400">This is a clean slate for building new reports and analytics features.</p>
      </div>
    </div>
  </div>
</AdminLayout> 